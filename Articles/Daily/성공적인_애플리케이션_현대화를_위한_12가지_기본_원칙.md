## 성공적인 애플리케이션 현대화를 위한 12가지 기본 원칙

원문:[성공적인 애플리케이션 현대화를 위한 12가지 기본 원칙](https://www.samsungsds.com/kr/insights/successful-application-modernization.html)

애플리케이션 현대화(Application Modernization)은 레거시 인프라를 클라우드로 전환시키는 것 뿐만 아닌, 클라우드 환경의 이점을 최대한 활용하기 위해 애플리케이션을 개선하는 것.

**1. 코드 베이스**

-   배포 환경(개발, 스테이지, 운영, 테스트 등)은 서로 분리되며 코드에 의해 작성되어야 하고 버전 컨트롤 도구에 의해 변경 관리
-   다양한 환경에 애플리케이션을 배포할 때 immutable infrastructure를 구성
-   immutable infrastructure는 코드에 의해서 구성되기에 변경 시, 기존 코드를 버리고 새로운 코드에 의해 생성되는 것

**2. 의존성**

-   모든 종속성을 명시적으로 선언
    -   라이브러리, 도구, 프레임워크, 메시징 클라이언트 등
-   의존성 또한 코드로 명시

**3. 구성정보(Configuration)**

-   하드코딩 절대 X
-   배포 환경에 맞는 구성 정보는 별도의 코드로 작성, 실 배포 시에 해당 구성 정보를 배포 환경에 전달
-   코드 베이스에 의해 관리되며 장애나 재시작 등에도 쉽게 변경되지 않아야 하고, 런타임 시 실시간 주입이 가능

**4. 리소스로서의 서비스(Backing Service)**

-   애플리케이션은 상태(데이터)를 가지고 잇으면 안된다.
-   즉 애플리케이션은 stateless한 상태이며 state는 명시적으로 연결된 외부 서비스에 의해 다뤄져야 한다.
-   DB - 외부 서비스(RDS, Mongo..) / 이미지 - AWS S3, Google Cloud Storage 등

**5. 빌드, 릴리즈, 실행**

-   애플리케이션 배포가 빌드, 릴리즈. 실행 단계와 완전히 분리되어야 한다.
-   빌드는 특정 배포환경과 완전히 독립.

**6. 프로세스**

-   마이크로서비스는 상태를 갖고 있지않고 트랜잭션을 처리하는데 필요한 정보만 있어야 함
-   상태를 저장하려면 "리서스로서 서비스"

**7. 포트 바인딩**

-   마이크로서비스가 제공하는 포트와 외부 노출 포트를 명시적으로 연결

**8. 동시성**

-   마이크로서비스 인스턴스가 수평적으로 동시에 서비스를 제공할 수 있는 능력
-   적은 CPU와 메모리를 가진 인스턴스를 수평적으로 여러 개 배치하여 성능 확장

**9. 폐기성**

-   수요에 맞춰 시작되고 폐기될 수 있어야 함
-   탄력적인 성능 대응

**10. 개발/운영 일치성**

-   개발, 테스트, 운영 등 여러 구동 환경이 최대한 일치성을 보유하고 있어야 함.
-   commit되는 순간, 단위 테스트, 테스트/개발 배포, 통합 테스트, 운영 배포 등 순차적으로 문제 없이 배포

**11. 로그**

-   로그는 항상 스트림으로 출력
-   외부 로그 수집 도구로 중앙 집중된 수집 환경 구성 시, 마이크로서비스는 스트림 출력만 고려하면 됨.

**12. 관리 프로세스**

-   관리 작업 유형이 사전에 정의되어야 하며 이를 통해 관리가 수행되어야 함
-   즉, 해당 인스턴스에 직접 들어가서 수행하는 것이 아닌 코드로 관리되고 유지되는 스크립트에 의해서만 관리
-   만약 관리가 정의되지 않는 작업이라면 새로운 작업 유형으로 코드 저장소에 관리
